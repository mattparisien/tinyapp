<header>
  <nav class="navbar navbar-expand-md navbar-dark bg-success">
    <a class="navbar-brand" href="/urls">TinyApp</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
      <div class="navbar-nav">
        <a class="nav-item nav-link" href="/urls">My URLs</a>
        <a class="nav-item nav-link" href="/urls/new">Create New URL</a>
      </div>
    </div>
    <!-- Login form -->
    <form class="login_form" method="POST" action="/login" style="display: flex; justify-content: space-between; width: 280px" >
      <input class="form-control" name="username" placeholder="Enter your username" style="width: 200px;">
      <button class="btn btn-secondary" type="submit" >Log In</button>
    </form>
    <form class="logout_form" method="POST" action="/logout">
    <label><%=username%></label>
    <button class="logout_btn btn btn-secondary">Log Out</button>
    </form>
  </nav>

  <!-- Nav CTA Button Styles -->
  <style>
    /* Hide logout form by default for users who aren't logged in */
    .logout_form {
      display: none;
    }
    .btn-secondary {
      background-color: #294356;
      border: 0px;
    }

    .hidden {
      display: none !important;
    }

    .in-view {
      display: block;
    }
  </style>


<script>

  function toggleNavForms() {
    const logInForm = document.getElementsByClassName('login_form')[0];
    const logOutForm = document.getElementsByClassName('logout_form')[0];
    const cookies = document.cookie;

    if (cookies.includes('username')) {
      logInForm.classList.add('hidden');
      logOutForm.classList.add('in-view');
    } 
    // const username = cookies.split(';')
    // username.forEach((cookie) => {
    //   if ()
    // })
    // console.log(username)
  }
  toggleNavForms()
</script>



</header>